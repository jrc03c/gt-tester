(()=>{var m=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var y=m((q,w)=>{function h(t){typeof t>"u"&&(t=document.body);let n=["input","textarea"],o=["answer","slider-handle","day","timepicker-hour","hour","timepicker-minute","minute"],i=[],d=t.tagName.toLowerCase(),u=t.className.split(/\s/g).map(e=>e.trim()).filter(e=>e.length>0),f=o.some(e=>u.indexOf(e)>-1),{width:a,height:s}=t.getBoundingClientRect();a>0&&s>0&&(n.indexOf(d)>-1?d==="input"?t.getAttribute("type")==="text"&&i.push(t):i.push(t):f&&i.push(t));for(let e=0;e<t.children.length;e++){let r=t.children[e];h(r).forEach(c=>i.push(c))}return i}w.exports=h});var C=m((P,x)=>{function v(t,n){typeof n>"u"&&(n=document.body);for(let o=0;o<n.children.length;o++){let i=n.children[o];if(i.textContent.includes(t))return v(t,i)}return n.textContent.includes(t)?n:null}x.exports=v});var b=m((M,E)=>{function I(t){return new Promise((n,o)=>{try{return setTimeout(n,t)}catch(i){return o(i)}})}E.exports=I});var B=y(),N=C(),g=b(),A=document.getElementById("REPLACE-ME"),T=window.location.search,L=new URLSearchParams(T),k=L.get("id");k?A.id=k:window.location.href=window.location.protocol+"//"+window.location.host;async function O(t,n){p=!1;let o=n.events,i=100,d=B(),u=d.filter(a=>{let s=a.tagName.toLowerCase();return["input","textarea"].indexOf(s)>-1}),f=d.filter(a=>u.indexOf(a)<0);window.textInputs=u,window.clickableInputs=f;for(let a=0;a<o.length;a++){let s=o[a];if(s.type==="enter-text"){let e=u[0];u.splice(0,1),e.value=s.value.toString(),$(e).trigger("input"),console.log("entering text:",s.value.toString())}else if(s.type==="click"){let e=s.value?s.value.toString():null,r=s.class?s.class:null,l=[];if(r)for(;l.length===0;){let c=Array.from(document.getElementsByClassName(r));l=l.concat(c),await g(10)}else if(e)for(;l.length===0;)l.push(N(e)),await g(10);if(e&&(l=l.filter(c=>c.textContent.includes(e))),l.length>0){let c=l[0];$(c).trigger("click"),console.log("clicking on element:",c)}else console.warn("Couldn't find a clickable element for this event:",s)}else if(s.type==="pause"){let e=parseInt(s.value);console.log("pausing for milliseconds:",e),await g(e)}else if(s.type==="submit"){console.log("submitting responses...");let e=Array.from(document.getElementsByClassName("btn-default")),r=Array.from(document.getElementsByClassName("btn-primary")),l=e.length>0?e[e.length-1]:r[r.length-1];$(l).click()}await g(i)}}var p=!1,R=setInterval(()=>{!$||(clearInterval(R),$(window).on("guidedtrack:pageEnd",()=>{p=!0}),$(window).on("gt-test",async(t,n)=>{for(;!p;)await g(10);O(t,n)}))},1);})();
