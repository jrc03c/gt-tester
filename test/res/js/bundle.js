(()=>{var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var p=g((L,h)=>{function m(t,e){typeof e>"u"&&(e=document.body);for(let l=0;l<e.children.length;l++){let i=e.children[l];if(i.textContent.includes(t))return m(t,i)}return e.textContent.includes(t)?e:null}h.exports=m});var v=g((P,y)=>{function w(t){typeof t>"u"&&(t=document.body);let e=[],l=t.tagName.toLowerCase();l==="input"&&t.getAttribute("type")==="text"&&e.push(t),l==="textarea"&&e.push(t);for(let i=0;i<t.children.length;i++){let a=t.children[i];w(a).forEach(s=>e.push(s))}return e}y.exports=w});var x=g((R,E)=>{function b(t){return new Promise((e,l)=>{try{return setTimeout(e,t)}catch(i){return l(i)}})}E.exports=b});var B=p(),I=v(),u=x(),k=document.getElementById("REPLACE-ME"),A=window.location.search,N=new URLSearchParams(A),C=N.get("id");C?k.id=C:window.location.href=window.location.protocol+"//"+window.location.host;async function T(t,e){d=!1;let l=e.events,i=100,a=I();for(let f=0;f<l.length;f++){let s=l[f];if(s.type==="enter-text"){let n=a[0];a.splice(0,1),n.value=s.value.toString(),$(n).trigger("input"),console.log("entering text:",s.value.toString())}else if(s.type==="click"){let n=s.value?s.value.toString():null,r=s.class?s.class:null,o=[];if(r)for(;o.length===0;){let c=Array.from(document.getElementsByClassName(r));o=o.concat(c),await u(10)}else if(n)for(;o.length===0;){let c=B(n);c&&o.push(c),await u(10)}if(n&&(o=o.filter(c=>c.textContent.includes(n))),o.length>0){let c=o[0];$(c).trigger("click"),console.log(["clicking on element",n?`with value "${n}"`:"",r?`with class "${r}"`:""].join(" ")+"...")}else console.warn("Couldn't find a clickable element for this event:",s)}else if(s.type==="pause"){let n=parseInt(s.value);console.log("pausing for milliseconds:",n),await u(n)}else if(s.type==="submit"){console.log("submitting responses...");let n=Array.from(document.getElementsByClassName("btn-default")),r=Array.from(document.getElementsByClassName("btn-primary")),o=n.length>0?n[n.length-1]:r[r.length-1];$(o).click()}await u(i)}}var d=!1,S=setInterval(()=>{!$||(clearInterval(S),$(window).on("guidedtrack:pageEnd",()=>{d=!0}),$(window).on("gt-test",async(t,e)=>{for(;!d;)await u(10);T(t,e)}))},1);})();
